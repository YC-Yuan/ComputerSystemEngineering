# Lab3文档

19302010020 袁逸聪

## PartA

### 汉明距离计算函数

```JAVA
public int hammingDistance(int x, int y) {
    int z = x ^ y;
    int num = 0;
    while (z > 0) {
        z = z & (z - 1);
        num++;
    }
    return num;
}
```

### 计算机系统可靠性

系统越少出错,就越可靠

要保证可靠性,则要能够发现那些难以避免的错误,控制其影响范围,乃至弥补后果(差错检测,差错控制,差错纠正)

汉明校验是一种经典的差错检测方法,在奇偶校验的基础上拓展,不仅能检测错误存在,还能定位错误并复原([汉明码原理](https://blog.csdn.net/qq_19782019/article/details/87452394))

而PartA计算的汉明距离,可以用来衡量码组集合的功效:集合中任意两个编码之间汉明距离的最小值记为d

则这种码组最多可以检测d-1位错误,纠正(d-1)/2位错误(汉明码d为3,故最多检测2位纠正1位误码)

## PartB

要求对可中断的修改事物保证一致性

1. 对单个事物:要求实现Write-ahead-log
   1. 流程
      1. 修改前log新旧值
      2. 执行修改
      3. 确认修改都完成后在log中标记
   2. 保持一致
      1. 如果log新旧值不完整,则修改未开始就中断了,没有一致性问题
      2. 如果log新旧值完整但未标记,说明修改过程中中断了,根据旧值恢复
      3. 如果log已标记,则修改过程一定完成了,没有一致性问题
2. 对多个事物:要求实现Read-capture策略